{"type_of":"article","id":270188,"title":"Developing WordPress Blocks Without WordPress","description":"Now that WordPress has React-powered editor with code decoupled from WordPress, we do not need WordPr...","cover_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--XsOnhjL1--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://res.cloudinary.com/practicaldev/image/fetch/s--Ua_wk7XM--/c_imagga_scale%2Cf_auto%2Cfl_progressive%2Ch_420%2Cq_auto%2Cw_1000/https://dev-to-uploads.s3.amazonaws.com/i/dnflvhigczxri9uml639.jpg","readable_publish_date":"Mar  3","social_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--suruZJqz--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://res.cloudinary.com/practicaldev/image/fetch/s--Ua_wk7XM--/c_imagga_scale%2Cf_auto%2Cfl_progressive%2Ch_420%2Cq_auto%2Cw_1000/https://dev-to-uploads.s3.amazonaws.com/i/dnflvhigczxri9uml639.jpg","slug":"developing-wordpress-blocks-without-wordpress-3lo6","path":"/shelob9/developing-wordpress-blocks-without-wordpress-3lo6","url":"https://dev.to/shelob9/developing-wordpress-blocks-without-wordpress-3lo6","canonical_url":"https://dev.to/shelob9/developing-wordpress-blocks-without-wordpress-3lo6","comments_count":0,"positive_reactions_count":11,"collection_id":null,"created_at":"2020-02-27T16:40:46Z","edited_at":null,"crossposted_at":null,"published_at":"2020-03-03T22:23:42Z","last_comment_at":"2020-03-03T22:23:42Z","published_timestamp":"2020-03-03T22:23:42Z","tag_list":"react, wordpress","tags":["react","wordpress"],"body_html":"<p>Now that WordPress has React-powered editor with code decoupled from WordPress, we do not need WordPress as a dependency when developing block plugins. This can speed up block development. In this article, I will show you how to use <a href=\"https://codesandbox.io/\">Codesandbox</a> to develop blocks.</p>\n\n<p>The proposed block <a href=\"https://make.wordpress.org/design/2019/06/07/block-library-mockups-prototype/\">block library</a> should allow for WordPress plugins with only JavaScript, CSS and a block.json file. The structure of this template is only 1 PHP file -- the assets.php file generated by <a href=\"https://www.npmjs.com/package/@wordpress/scripts\">wordpress-scripts</a> -- away from being a complete plugin.</p>\n\n<h2>\n  <a name=\"quick-steps-to-start-block-development\" href=\"#quick-steps-to-start-block-development\" class=\"anchor\">\n  </a>\n  Quick Steps To Start Block Development\n</h2>\n\n<p><a href=\"https://codesandbox.io/s/wordpress-block-u8k01\">I created a CodeSandbox template to start block development</a>. You can use this template to start developing your blocks. I started by cut and pasting <a href=\"https://github.com/WordPress/gutenberg/tree/master/storybook/stories/playground\">the code in the \"playground\" story of the Gutenberg repo's Storybook.</a>. This minimal implimentation of Gutenberg has the setting sidebar and the main editor area. You can insert the block from this sandbox and the core blocks. The sidebar is on the top, I didn't add extra CSS for that. It's a little odd at first, but I think it will help me focus on settings and block seperately. I might change that.</p>\n\n<p>This is now my two step process for starting development of a block:</p>\n\n<ol>\n<li>Click the \"New Sandbox\" option and then choose to create from a template.</li>\n<li>Search templates for \"WordPress Block\" and choose my template.</li>\n</ol>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--LEMXNngH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/oqzbpj8i8arn3thfm2ou.jpg\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--LEMXNngH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/oqzbpj8i8arn3thfm2ou.jpg\" alt=\"The Codesanbox template search, with results for this template\" loading=\"lazy\"></a></p>\n\n<p>You can then open the <code>src/block</code> directory and start working on your block there. I added an block.json file, which sets block attributes, index.js that collects the object of settings you would pass to <code>registerBlockType</code> in your plugin and a componet for the Edit callback, as well as it's tests. </p>\n\n<p>The block is registered for you in the Editor component.</p>\n\n<p>In the Editor component, I commented out this code, beacuse it can make things run very slow if you add a lot of blocks:<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight javascript\"><code>  <span class=\"nx\">useEffect</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"nx\">previewHtml</span> <span class=\"o\">=</span> <span class=\"nx\">serialize</span><span class=\"p\">(</span><span class=\"nx\">blocks</span><span class=\"p\">);</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">previewHtml</span><span class=\"p\">);</span>\n  <span class=\"p\">},</span> <span class=\"p\">[</span><span class=\"nx\">blocks</span><span class=\"p\">]);</span>\n</code></pre></div>\n\n\n\n<p>What that does is, every time blocks are updated, it converts them to HTML and echos it. That's cool and useful for testing. Also you could build a live preview with it. Have fun.</p>\n\n<h2>\n  <a name=\"then-what\" href=\"#then-what\" class=\"anchor\">\n  </a>\n  Then What\n</h2>\n\n<p><a href=\"https://codesandbox.io/docs/git\">Codesandbox projects can be linked to a git repository</a>. At some point you should start making commits. Once a block is ready, you can add a main plugin file and use the build command of <a href=\"https://www.npmjs.com/package/@wordpress/scripts\">wordpress-scripts</a>. You have a WordPress plugin now!</p>\n\n<h2>\n  <a name=\"have-fun\" href=\"#have-fun\" class=\"anchor\">\n  </a>\n  Have Fun\n</h2>\n\n<blockquote>\n<p>Follow Me On <a href=\"https://dev.to/shelob9/\">DEV</a> and <a href=\"https://twitter.com/Josh412\">Twitter</a>.</p>\n</blockquote>\n\n<p>Use this button to start your own blocks:</p>\n\n<p><a href=\"https://codesandbox.io/s/wordpress-block-u8k01?fontsize=14&amp;hidenavigation=1&amp;theme=dark\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--pzpI10jk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit WordPress Block\" loading=\"lazy\"></a></p>\n\n","body_markdown":"\nNow that WordPress has React-powered editor with code decoupled from WordPress, we do not need WordPress as a dependency when developing block plugins. This can speed up block development. In this article, I will show you how to use [Codesandbox](https://codesandbox.io/) to develop blocks.\n\nThe proposed block [block library](https://make.wordpress.org/design/2019/06/07/block-library-mockups-prototype/) should allow for WordPress plugins with only JavaScript, CSS and a block.json file. The structure of this template is only 1 PHP file -- the assets.php file generated by [wordpress-scripts](https://www.npmjs.com/package/@wordpress/scripts) -- away from being a complete plugin.\n\n\n## Quick Steps To Start Block Development\n\n[I created a CodeSandbox template to start block development](https://codesandbox.io/s/wordpress-block-u8k01). You can use this template to start developing your blocks. I started by cut and pasting [the code in the \"playground\" story of the Gutenberg repo's Storybook.](https://github.com/WordPress/gutenberg/tree/master/storybook/stories/playground). This minimal implimentation of Gutenberg has the setting sidebar and the main editor area. You can insert the block from this sandbox and the core blocks. The sidebar is on the top, I didn't add extra CSS for that. It's a little odd at first, but I think it will help me focus on settings and block seperately. I might change that.\n\nThis is now my two step process for starting development of a block:\n\n1. Click the \"New Sandbox\" option and then choose to create from a template.\n2. Search templates for \"WordPress Block\" and choose my template.\n\n![The Codesanbox template search, with results for this template](https://dev-to-uploads.s3.amazonaws.com/i/oqzbpj8i8arn3thfm2ou.jpg)\n\nYou can then open the `src/block` directory and start working on your block there. I added an block.json file, which sets block attributes, index.js that collects the object of settings you would pass to `registerBlockType` in your plugin and a componet for the Edit callback, as well as it's tests. \n\n\nThe block is registered for you in the Editor component.\n\nIn the Editor component, I commented out this code, beacuse it can make things run very slow if you add a lot of blocks:\n\n\n```js\n  useEffect(() => {\n    let previewHtml = serialize(blocks);\n    console.log(previewHtml);\n  }, [blocks]);\n```\n\nWhat that does is, every time blocks are updated, it converts them to HTML and echos it. That's cool and useful for testing. Also you could build a live preview with it. Have fun.\n\n## Then What\n\n[Codesandbox projects can be linked to a git repository](https://codesandbox.io/docs/git). At some point you should start making commits. Once a block is ready, you can add a main plugin file and use the build command of [wordpress-scripts](https://www.npmjs.com/package/@wordpress/scripts). You have a WordPress plugin now!\n\n\n## Have Fun\n> Follow Me On [DEV](https://dev.to/shelob9/) and [Twitter](https://twitter.com/Josh412).\n\nUse this button to start your own blocks:\n\n[![Edit WordPress Block](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/wordpress-block-u8k01?fontsize=14&hidenavigation=1&theme=dark)\n","user":{"name":"Josh Pollock","username":"shelob9","twitter_username":"Josh412","github_username":"Shelob9","website_url":"https://JoshPress.net","profile_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--0WBb8dNZ--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/63421/1ce6f212-f8bc-417a-b61e-92a6743899dd.jpg","profile_image_90":"https://res.cloudinary.com/practicaldev/image/fetch/s--8WFtOwoJ--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/63421/1ce6f212-f8bc-417a-b61e-92a6743899dd.jpg"}}